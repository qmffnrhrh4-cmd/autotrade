# koapy 설정 파일 예제
#
# 사용법:
#   1. 이 파일을 .koapy.conf로 저장 (프로젝트 루트 또는 홈 디렉토리)
#   2. 아래 값들을 실제 정보로 수정
#   3. koapy가 자동으로 이 설정을 읽어서 사용합니다
#
# 참고: https://github.com/elbakramer/koapy

# Qt 프레임워크 설정
koapy.qtpy.qt_api = "pyside2"  # 또는 "pyqt5"

# Kiwoom Open API Plus 백엔드 설정
koapy.backend.kiwoom_open_api_plus {
    # gRPC 서버 설정
    grpc {
        host = "localhost"
        port = 5943  # 기본 포트
        max_workers = 8  # 서버 워커 스레드 수
        client_check_timeout = 10  # 클라이언트 체크 타임아웃 (초)
        max_workers_for_signal_connector = 8
    }

    # 로그인 인증 정보
    credential {
        # 키움증권 계정 정보
        user_id = ""  # 키움증권 ID
        user_password = ""  # 로그인 비밀번호
        cert_password = ""  # 공인인증서 비밀번호

        # 모의투자 여부 (true: 모의투자, false: 실전투자)
        is_simulation = true

        # 계좌번호별 비밀번호
        account_passwords {
            # "계좌번호" = "계좌비밀번호"
            # 예: "8888888888" = "0000"
        }
    }

    # 자동 로그인 설정
    auto_login {
        enabled = false  # true로 설정하면 자동 로그인
        use_credential_from_config = true
    }

    # API 제한 설정
    rate_limit {
        # 초당 TR 요청 횟수 제한 (키움 기본: 5회/초)
        requests_per_second = 5
    }

    # 로그 설정
    logging {
        level = "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
        format = "%(asctime)s [%(levelname)s] %(name)s: %(message)s"
    }
}

# Daishin Cybos Plus 백엔드 설정 (대안)
# koapy.backend.daishin_cybos_plus {
#     credential {
#         user_id = ""
#         user_password = ""
#         auto_account_password = true
#         auto_cert_password = true
#         price_check_only = true
#     }
# }

# 전역 설정
koapy {
    # 데이터 저장 디렉토리
    data_dir = "~/.koapy/data"

    # 캐시 설정
    cache {
        enabled = true
        ttl = 3600  # 캐시 유지 시간 (초)
    }
}
